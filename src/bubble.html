<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bubble</title>
</head>
<body>
    <script>
        /*
        * 冒泡排序
        * 遍历一次就把最大的放在最后面
        * 排序完毕
        */
        function bubble(arr) {
            var len = arr.length,
                i,
                j,
                temp;
            var flag;
            for ( i = 0; i < len; i++) {
                // 改进方法，这里flag设置我为0，那么当这个数组是有序的时候，就只会在内层循环一次，然后就返回了，这使得效率大大提高。
                flag = 0;
                for ( j = 0; j < len - i - 1; j++) {
                    if (arr[j] > arr[j + 1]) {
                        temp = arr[j];
                        arr[j] = arr[j + 1];
                        arr[j + 1] = temp;
                        flag = 1;
                    }
                    // 当然，我们也可以不借助第三个变量就可以实现两个数的交换，如下所示：
                    // arr[j + 1] = arr[j] + arr[j + 1];
                    // arr[j] = arr[j + 1] - arr[j];
                    // arr[j + 1] = arr[j + 1] - arr[j];
                    // 这种方法的思想也是不难理解的，值得注意的时，后面两句代码是不能交换位置的。
                }
                if (flag == 0) {
                    console.log(arr);
                    return;
                }
            }
            console.log(arr);
        }
        bubble([18, 28, 37, 78, 99]); // [12, 17, 18, 28, 29]
        bubble([58, 8, 17, 35, 29]); // [8, 17, 29, 35, 58]
        // 注意事项： 数组的长度需要多次使用，并在使用过程中不会改变，所以提前缓存起来。并注意单变量原则的使用。另外，在写代码的过程中，尽量将数字带入思考，而不是死记硬背，这样效果会好很多。
    </script>
</body>
</html>

